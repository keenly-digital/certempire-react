{"ast":null,"code":"var _jsxFileName = \"/Users/megamac/Dev/GitHub/projects/certempire-react/src/pages/SimulationPage.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/pages/SimulationPage.tsx\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useParams } from 'react-router-dom';\nimport { supabase } from '../supabaseClient';\nimport HtmlRenderer from '../components/utils/HtmlRenderer'; // 1. Import the new component\n\n// MAKING CHANGES NOW.\n\n// --- SVG Icons ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst IconSearch = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"20\",\n  height: \"20\",\n  viewBox: \"0 0 15 15\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159L11.5 12.5L12.5 11.5L10.0158 9.30885C9.42248 9.75587 8.68594 10.0345 7.89932 10.0883L6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5C10 7.50556 9.61334 8.42373 9.00001 9.13098L9.30884 10.0159Z\",\n    fill: \"#757575\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 121\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 14,\n  columnNumber: 26\n}, this);\n_c = IconSearch;\nconst IconDownload = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"18\",\n  height: \"18\",\n  viewBox: \"0 0 15 15\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 6H2V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V6H11V12H4V6ZM7.5 10L11 5H8V2H7V5H4L7.5 10Z\",\n    fill: \"currentColor\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 123\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 28\n}, this);\n_c2 = IconDownload;\nconst IconEye = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"16\",\n  height: \"16\",\n  viewBox: \"0 0 15 15\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M7.5 11C4.79322 11 2.49241 9.2993 1.05532 7.50001C2.49241 5.70072 4.79322 4 7.5 4C10.2068 4 12.5076 5.70072 13.9447 7.50001C12.5076 9.2993 10.2068 11 7.5 11ZM7.5 3C4.33776 3 1.68988 5.00373 0.160645 6.88398L0.116041 6.94165C-0.0386803 7.14378 -0.0386803 7.85624 0.116041 8.05837L0.160645 8.11604C1.68988 9.99629 4.33776 12 7.5 12C10.6622 12 13.3101 9.99629 14.8394 8.11604L14.884 8.05837C15.0387 7.85624 15.0387 7.14378 14.884 6.94165L14.8394 6.88398C13.3101 5.00373 10.6622 3 7.5 3ZM7.5 9C6.40237 9 5.50655 8.11289 5.5 7.00001C5.50655 5.88713 6.40237 5.00001 7.5 5.00001C8.59763 5.00001 9.49345 5.88713 9.5 7.00001C9.49345 8.11289 8.59763 9 7.5 9Z\",\n    fill: \"currentColor\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 118\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 18,\n  columnNumber: 23\n}, this);\n_c3 = IconEye;\nconst IconEyeSlash = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"16\",\n  height: \"16\",\n  viewBox: \"0 0 15 15\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M1.3415 13.6585L13.6582 1.34176L12.9511 0.634691L0.634433 12.9514L1.3415 13.6585ZM4.39893 9.60107C3.13626 8.87784 2.15372 7.84628 1.05532 7.5C2.49241 5.70072 4.79322 4 7.5 4C8.61439 4 9.66427 4.29891 10.584 4.80878L9.49989 6.00001C9.49561 5.92548 9.24345 5.88713 9.5 7C9.49345 8.11289 8.59763 9 7.5 9C6.81406 9 6.20237 8.68594 5.86902 8.13098L4.39893 9.60107ZM14.8394 6.88398C13.5936 5.25338 11.6622 3 7.5 3C6.59763 3 5.75655 3.20237 5.00001 3.55837L6.50001 5C6.40237 5 5.50655 5.88713 5.5 7C5.50655 7.24345 5.57452 7.46548 5.68988 7.68988L7.584 9.584C8.75655 9.42548 9.49345 8.49345 9.5 7.41594L13.8839 12.8394C14.4934 12.1129 14.8394 11.2434 14.8394 10.5C14.8394 9.99629 13.3101 8.11604 14.884 8.05837C15.0387 7.85624 15.0387 7.14378 14.884 6.94165L14.8394 6.88398Z\",\n    fill: \"currentColor\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 123\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 20,\n  columnNumber: 28\n}, this);\n_c4 = IconEyeSlash;\nconst IconFlag = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"16\",\n  height: \"16\",\n  viewBox: \"0 0 15 15\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4.5 14.5V4.5H12.5L9.5 7L12.5 9.5H4.5ZM3 3.5H14V10.5L10 7.5L14 4.5H4V14.5H3V3.5Z\",\n    fill: \"currentColor\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 119\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 22,\n  columnNumber: 24\n}, this);\n_c5 = IconFlag;\nconst IconWarning = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"16\",\n  height: \"16\",\n  viewBox: \"0 0 15 15\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M7.5 1L1 13H14L7.5 1ZM7.5 3.23607L12.7082 12H2.2918L7.5 3.23607ZM8 11H7V10H8V11ZM8 9H7V6H8V9Z\",\n    fill: \"currentColor\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 122\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 24,\n  columnNumber: 27\n}, this);\n_c6 = IconWarning;\nconst IconTopicFolder = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"28\",\n  height: \"28\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M3 5C3 4.44772 3.44772 4 4 4H9.17157C9.58052 4 9.91096 4.24065 10.0607 4.58579L10.5858 5.75736C10.7355 6.1025 11.0659 6.34315 11.4749 6.34315H20C20.5523 6.34315 21 6.79086 21 7.34315V18C21 18.5523 20.5523 19 20 19H4C3.44772 19 3 18.5523 3 18V5Z\",\n    fill: \"#000000\",\n    \"fill-opacity\": \"0.7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 126\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 26,\n  columnNumber: 31\n}, this);\n_c7 = IconTopicFolder;\nconst IconCaseStudy = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 4H20V20H4V4ZM3 3V21H21V3H3ZM6 6H18V8H6V6ZM6 10H18V12H6V10ZM6 14H14V16H6V14Z\",\n    fill: \"#673AB7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 124\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 28,\n  columnNumber: 29\n}, this);\n_c8 = IconCaseStudy;\nconst IconArrowBack = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"20\",\n  height: \"20\",\n  viewBox: \"0 0 15 15\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M6.85355 3.14645C7.04882 3.34171 7.04882 3.65829 6.85355 3.85355L3.70711 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H3.70711L6.85355 11.1464C7.04882 11.3417 7.04882 11.6583 6.85355 11.8536C6.65829 12.0488 6.34171 12.0488 6.14645 11.8536L1.64645 7.35355C1.45118 7.15829 1.45118 6.84171 1.64645 6.64645L6.14645 2.14645C6.34171 1.95118 6.65829 1.95118 6.85355 2.14645Z\",\n    fill: \"currentColor\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 124\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 30,\n  columnNumber: 29\n}, this);\n_c9 = IconArrowBack;\nconst IconArrowForward = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"20\",\n  height: \"20\",\n  viewBox: \"0 0 15 15\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M8.14645 3.14645C8.34171 3.34171 8.34171 3.65829 8.14645 3.85355L4.99999 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H5L8.14645 11.1464C8.34171 11.3417 8.34171 11.6583 8.14645 11.8536C7.95118 12.0488 7.6346 12.0488 7.43934 11.8536L2.93934 7.35355C2.74408 7.15829 2.74408 6.84171 2.93934 6.64645L7.43934 2.14645C7.6346 1.95118 7.95118 1.95118 8.14645 2.14645Z\",\n    fill: \"currentColor\",\n    transform: \"scale(-1,1) translate(-15,0)\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 127\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 32,\n  columnNumber: 32\n}, this);\n\n// --- Type Definitions ---\n_c0 = IconArrowForward;\n// --- Helper function ---\n\n/*\n const getAllQuestions = (topics: Record<string, Topic>): Question[] => {\n  if (!topics) return [];\n  let questions: Question[] = [];\n  Object.values(topics).forEach((topic: Topic) => {\n    if (topic.questions && Array.isArray(topic.questions)) {\n      questions.push(...topic.questions);\n    }\n  });\n  return questions.map((q, index) => ({ ...q, question_number: (index + 1).toString() }));\n};\n */\n\nconst flattenItems = topics => {\n  const flatList = [];\n  Object.entries(topics).forEach(([topicKey, topic]) => {\n    if (topic.topic_name) {\n      flatList.push({\n        type: 'topic',\n        content: {\n          title: topic.topic_name,\n          caseStudyCount: topic.case_study ? 1 : 0\n        }\n      });\n    }\n    if (topic.case_study) {\n      var _topic$questions;\n      flatList.push({\n        type: 'case_study',\n        content: {\n          title: topicKey,\n          description: topic.case_study,\n          questionsCount: ((_topic$questions = topic.questions) === null || _topic$questions === void 0 ? void 0 : _topic$questions.length) || 0\n        }\n      });\n    }\n    (topic.questions || []).forEach((q, qIndex) => {\n      flatList.push({\n        type: 'question',\n        content: {\n          ...q,\n          question_number: q.question_number || (qIndex + 1).toString()\n        }\n      });\n    });\n  });\n  return flatList;\n};\n\n// --- Styled Components (Full Definitions) ---\nconst PageContainer = styled.div` display: flex; flex-direction: column; gap: 16px; `;\n_c1 = PageContainer;\nconst HeaderContainer = styled.div`\n  @media (min-width: 651px) { display: flex; flex-direction: row; align-items: center; justify-content: space-between; gap: 16px; }\n  @media (max-width: 650px) { display: flex; flex-direction: column; gap: 16px; }\n`;\n_c10 = HeaderContainer;\nconst FileName = styled.h2` color: #2c2c54; font-weight: bold; font-size: 22px; `;\n_c11 = FileName;\nconst HeaderActions = styled.div` display: flex; align-items: center; gap: 12px; `;\n_c12 = HeaderActions;\nconst SearchInput = styled.div`\n  display: flex; align-items: center; background-color: white; border: 1px solid #E0E0E0; border-radius: 12px; padding: 0 12px; width: 250px;\n  @media (max-width: 650px) { width: 100%; }\n  input { border: none; outline: none; padding: 12px 8px; font-size: 14px; flex-grow: 1; }\n  &:focus-within { border-color: #673AB7; }\n`;\n_c13 = SearchInput;\nconst ViewToggle = styled.div`\n  display: flex; align-items: center; gap: 4px; padding: 4px 8px; background-color: white; border: 1px solid #E0E0E0; border-radius: 12px;\n  span { font-weight: bold; color: #757575; }\n  svg { color: #757575; }\n`;\n_c14 = ViewToggle;\nconst Switch = styled.input.attrs({\n  type: 'checkbox'\n})`\n  appearance: none; width: 34px; height: 20px; background: #E0E0E0; border-radius: 10px; position: relative; cursor: pointer;\n  &:checked { background: #673AB7; }\n  &::before { content: ''; position: absolute; top: 2px; left: 2px; width: 16px; height: 16px; background: white; border-radius: 50%; transition: 0.2s; }\n  &:checked::before { left: 16px; }\n`;\n_c15 = Switch;\nconst GoToButton = styled.button`\n  background: none; border: 1px solid #E0E0E0; padding: 8px 12px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-weight: bold; color: #757575;\n`;\n_c16 = GoToButton;\nconst DownloadButton = styled.button`\n  background-color: #673AB7; color: white; border: none; border-radius: 12px; padding: 10px 16px; font-weight: 500; cursor: pointer; display: flex; align-items: center; gap: 8px;\n  @media (max-width: 650px) { padding: 12px; border-radius: 50%; }\n`;\n_c17 = DownloadButton;\nconst GoToFieldContainer = styled.div`\n  height: ${props => props.$show ? '60px' : '0'}; display: flex; justify-content: center; align-items: center; gap: 8px; overflow: hidden; transition: height 0.3s;\n`;\n_c18 = GoToFieldContainer;\nconst GoToInput = styled.input` width: 150px; text-align: center; border: 1px solid #E0E0E0; border-radius: 8px; padding: 8px; `;\n_c19 = GoToInput;\nconst GoButton = styled.button` background-color: #673AB7; color: white; border: none; padding: 8px 16px; border-radius: 8px; `;\n_c20 = GoButton;\nconst ContentContainer = styled.div` background-color: white; border-radius: 12px; border: 1px solid #E0E0E0; `;\n_c21 = ContentContainer;\nconst TopicHeader = styled.div` padding: 24px 16px 16px; display: flex; align-items: center; gap: 16px; font-size: 20px; font-weight: bold; color: #424242; span { font-weight: 500; } `;\n_c22 = TopicHeader;\nconst CaseStudyContainer = styled.div` background-color: rgba(239, 234, 254, 0.4); border-bottom: 1px solid rgba(103, 58, 183, 0.2); padding: 26px; `;\n_c23 = CaseStudyContainer;\nconst CaseStudyHeader = styled.div` display: flex; align-items: center; gap: 12px; font-size: 18px; font-weight: bold; color: #673AB7; @media (max-width: 500px) { flex-direction: column; align-items: flex-start; } `;\n_c24 = CaseStudyHeader;\nconst CaseStudyLabel = styled.p` color: #BDBDBD; font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: 0.8px; margin-bottom: 4px; `;\n_c25 = CaseStudyLabel;\nconst CaseStudyQuestions = styled.span` font-size: 14px; font-weight: 500; color: #757575; `;\n_c26 = CaseStudyQuestions;\nconst CaseStudyToggle = styled.button` background: none; border: none; color: #673AB7; font-weight: bold; display: flex; align-items: center; gap: 4px; cursor: pointer; `;\n_c27 = CaseStudyToggle;\nconst CaseStudyContent = styled.div` max-height: ${props => props.$expanded ? 'none' : '50px'}; overflow: hidden; transition: max-height 0.3s; `;\n_c28 = CaseStudyContent;\nconst QuestionCardContainer = styled.div` padding: 26px; `;\n_c29 = QuestionCardContainer;\nconst QuestionHeader = styled.div` @media (min-width: 601px) { display: flex; align-items: flex-start; gap: 18px; } @media (max-width: 600px) { display: flex; flex-direction: column; gap: 16px; } `;\n_c30 = QuestionHeader;\nconst QuestionNumber = styled.div` background-color: rgba(103, 58, 183, 0.12); color: #673AB7; font-weight: bold; font-size: 16px; padding: 12px; border-radius: 10px; `;\n_c31 = QuestionNumber;\nconst Label = styled.p` color: #BDBDBD; font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: 0.8px; margin-bottom: 8px; `;\n_c32 = Label;\nconst OptionsList = styled.div` display: flex; flex-direction: column; gap: 11px; @media (min-width: 601px) { padding-left: 76px; } @media (max-width: 600px) { padding-left: 0; } `;\n_c33 = OptionsList;\nconst OptionItem = styled.div` border: 1px solid ${props => props.$isCorrect ? '#38b000' : '#E0E0E0'}; background: ${props => props.$isCorrect ? '#F4FBF6' : 'transparent'}; border-radius: 8px; padding: 11px 14px; font-size: 15px; line-height: 1.35; transition: all 0.14s; box-shadow: ${props => props.$isCorrect ? '0 2px 6px rgba(56,176,0,0.1)' : 'none'}; `;\n_c34 = OptionItem;\nconst ActionButtons = styled.div` display: flex; flex-wrap: wrap; justify-content: flex-end; gap: 8px; margin-top: 26px; `;\n_c35 = ActionButtons;\nconst PrimaryButton = styled.button` border: none; background-color: #673AB7; color: white; padding: 10px 16px; border-radius: 8px; cursor: pointer; font-weight: 500; `;\n_c36 = PrimaryButton;\nconst ReportButton = styled.button` background: none; border: 1px solid rgba(255,152,0,0.5); color: #FF9800; padding: 10px 12px; border-radius: 8px; font-weight: bold; font-size: 13px; display: flex; align-items: center; gap: 8px; cursor: pointer; `;\n_c37 = ReportButton;\nconst CorrectAnswerSection = styled.div` display: flex; align-items: center; gap: 8px; padding: 12px 0; @media (max-width: 600px) { flex-direction: column; align-items: flex-start; gap: 16px; } `;\n_c38 = CorrectAnswerSection;\nconst CorrectLabel = styled.span` color: #757575; font-weight: 600; font-size: 13px; `;\n_c39 = CorrectLabel;\nconst CorrectText = styled.span` font-weight: bold; font-size: 15px; `;\n_c40 = CorrectText;\nconst ExplanationSection = styled.div` margin-top: 18px; `;\n_c41 = ExplanationSection;\nconst PaginationContainer = styled.div` display: flex; justify-content: space-between; align-items: center; padding: 16px 24px; background-color: white; border: 1px solid #E0E0E0; border-radius: 12px; `;\n_c42 = PaginationContainer;\nconst PageButton = styled.button` background: none; border: 1px solid #E0E0E0; color: #333; padding: 8px 16px; border-radius: 8px; cursor: pointer; &:disabled { cursor: not-allowed; opacity: 0.5; } `;\n_c43 = PageButton;\nconst LoadingContainer = styled.div` display: flex; justify-content: center; align-items: center; height: 300px; font-size: 18px; color: #757575;`;\n_c44 = LoadingContainer;\nconst PaginationText = styled.span` color: #757575; font-weight: 500; `;\n// --- The Main Page Component ---\nconst SimulationPage = () => {\n  _s();\n  var _currentItem$parent, _currentItem$parent2;\n  const {\n    fileId\n  } = useParams();\n  const [simulationData, setSimulationData] = useState(null);\n  const [structuredItems, setStructuredItems] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isLoading, setLoading] = useState(true);\n  const [showAnswer, setShowAnswer] = useState(false);\n  const [isSingleView, setIsSingleView] = useState(true); // True for single-question, false for full-content\n  const [searchQuery, setSearchQuery] = useState(''); // For real-time search in full view\n  const [showGoToField, setShowGoToField] = useState(false); // Toggle go-to input\n  const [goToInput, setGoToInput] = useState(''); // Value for go-to field\n  const [showAnswersMap, setShowAnswersMap] = useState({}); // Per-question show/hide in full view (key: question_number)\n  // const [showGoTo, setShowGoTo] = useState(false);\n\n  useEffect(() => {\n    setCurrentIndex(0);\n    setShowAnswersMap({});\n    setShowAnswer(false);\n  }, [isSingleView]);\n  useEffect(() => {\n    if (!fileId) return;\n    async function getSimulationData() {\n      var _data$aiParsedData, _data$aiParsedData$re;\n      setLoading(true);\n      const {\n        data,\n        error\n      } = await supabase.from('files').select('filename, ai-parsed-data').eq('id', fileId).single();\n      if (error) {\n        console.error(\"Error fetching file:\", error);\n      } else if (data && (_data$aiParsedData = data['ai-parsed-data']) !== null && _data$aiParsedData !== void 0 && (_data$aiParsedData$re = _data$aiParsedData.result) !== null && _data$aiParsedData$re !== void 0 && _data$aiParsedData$re.topics) {\n        const topics = data['ai-parsed-data'].result.topics;\n        setSimulationData({\n          fileName: data.filename,\n          topics: topics\n        });\n        const newStructuredItems = [];\n        let globalQNum = 1;\n        Object.values(topics).forEach(topic => {\n          (topic.questions || []).forEach(q => {\n            newStructuredItems.push({\n              type: 'question',\n              content: {\n                ...q,\n                question_number: q.question_number || (globalQNum++).toString()\n              },\n              parent: {\n                topic: topic.topic_name,\n                case_study: topic.case_study ? topic.topic_name : undefined\n              }\n            });\n          });\n        });\n        setStructuredItems(newStructuredItems);\n        const flatItems = flattenItems((simulationData === null || simulationData === void 0 ? void 0 : simulationData.topics) || {});\n      }\n      setLoading(false);\n    }\n    getSimulationData();\n  }, [fileId]);\n  useEffect(() => {\n    setShowAnswer(false);\n  }, [currentIndex]);\n  const handleNext = () => setCurrentIndex(prev => Math.min(prev + 1, structuredItems.length - 1));\n  const handlePrev = () => setCurrentIndex(prev => Math.max(prev - 1, 0));\n  const currentItem = structuredItems[currentIndex];\n  if (isLoading) return /*#__PURE__*/_jsxDEV(LoadingContainer, {\n    children: \"Loading Simulation...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 27\n  }, this);\n  if (!currentItem) return /*#__PURE__*/_jsxDEV(LoadingContainer, {\n    children: \"Could not load questions for this file.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 30\n  }, this);\n  return /*#__PURE__*/_jsxDEV(PageContainer, {\n    children: [/*#__PURE__*/_jsxDEV(HeaderContainer, {\n      children: [/*#__PURE__*/_jsxDEV(FileName, {\n        title: simulationData === null || simulationData === void 0 ? void 0 : simulationData.fileName,\n        children: simulationData === null || simulationData === void 0 ? void 0 : simulationData.fileName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(SearchInput, {\n        children: [/*#__PURE__*/_jsxDEV(IconSearch, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Search in this file...\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(HeaderActions, {\n        children: [/*#__PURE__*/_jsxDEV(ViewToggle, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"View:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(IconTopicFolder, {\n            style: {\n              color: !isSingleView ? '#673AB7' : '#757575',\n              width: 20,\n              height: 20\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            checked: isSingleView,\n            onChange: e => setIsSingleView(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"20\",\n            height: \"20\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            style: {\n              color: isSingleView ? '#673AB7' : '#757575'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M4 6H20V8H4V6ZM4 11H20V13H4V11ZM4 16H20V18H4V16Z\",\n              fill: \"currentColor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 158\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(GoToButton, {\n          onClick: () => setShowGoToField(!showGoToField),\n          children: [/*#__PURE__*/_jsxDEV(IconSearch, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 7\n          }, this), \" Go To\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(DownloadButton, {\n          onClick: () => {/* Put your download code here if you have it */},\n          children: [/*#__PURE__*/_jsxDEV(IconDownload, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              display: window.innerWidth > 650 ? 'inline' : 'none'\n            },\n            children: \"Download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(GoToFieldContainer, {\n      $show: showGoToField,\n      children: [/*#__PURE__*/_jsxDEV(GoToInput, {\n        type: \"number\",\n        value: goToInput,\n        onChange: e => setGoToInput(e.target.value),\n        placeholder: \"Go to...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(GoButton, {\n        onClick: () => {\n          const target = parseInt(goToInput);\n          if (target >= 1 && target <= structuredItems.length) {\n            setCurrentIndex(target - 1);\n            setIsSingleView(true);\n            setShowGoToField(false);\n            setGoToInput('');\n          } else {\n            alert(`Enter a number between 1 and ${structuredItems.length}`);\n          }\n        },\n        children: \"Go\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(ContentContainer, {\n      children: isSingleView ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [((_currentItem$parent = currentItem.parent) === null || _currentItem$parent === void 0 ? void 0 : _currentItem$parent.topic) && /*#__PURE__*/_jsxDEV(TopicHeader, {\n          children: [/*#__PURE__*/_jsxDEV(IconTopicFolder, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Topic: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 13\n            }, this), currentItem.parent.topic, currentItem.parent.case_study && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 14,\n                color: '#757575'\n              },\n              children: \"Case Studies: 1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 9\n        }, this), ((_currentItem$parent2 = currentItem.parent) === null || _currentItem$parent2 === void 0 ? void 0 : _currentItem$parent2.case_study) && /*#__PURE__*/_jsxDEV(RenderCaseStudy, {\n          caseStudy: {\n            title: currentItem.parent.topic || 'Case Study',\n            description: currentItem.parent.case_study,\n            questionsCount: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 42\n        }, this), /*#__PURE__*/_jsxDEV(RenderQuestion, {\n          question: currentItem.content,\n          showAnswer: showAnswer,\n          setShowAnswer: setShowAnswer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true) : flattenItems((simulationData === null || simulationData === void 0 ? void 0 : simulationData.topics) || {}).filter(item => searchQuery === '' || item.type === 'question' && item.content.question.toLowerCase().includes(searchQuery.toLowerCase())).map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [item.type === 'topic' && /*#__PURE__*/_jsxDEV(TopicHeader, {\n          children: [/*#__PURE__*/_jsxDEV(IconTopicFolder, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Topic: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this), item.content.title, item.content.caseStudyCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 14,\n                color: '#757575'\n              },\n              children: [\"Case Studies: \", item.content.caseStudyCount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this), item.type === 'case_study' && /*#__PURE__*/_jsxDEV(RenderCaseStudy, {\n          caseStudy: item.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 42\n        }, this), item.type === 'question' && /*#__PURE__*/_jsxDEV(RenderQuestion, {\n          question: item.content,\n          showAnswer: showAnswersMap[item.content.question_number] || false,\n          setShowAnswer: newVal => setShowAnswersMap(prev => ({\n            ...prev,\n            [item.content.question_number]: newVal\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 40\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(PaginationContainer, {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Question \", currentItem.content.question_number, \" of \", structuredItems.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(PageButton, {\n          onClick: handlePrev,\n          disabled: currentIndex === 0,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(PageButton, {\n          onClick: handleNext,\n          disabled: currentIndex === structuredItems.length - 1,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 9\n  }, this);\n};\n_s(SimulationPage, \"8rHhPRcERqs5sR7pME3YcyhUfMw=\", false, function () {\n  return [useParams];\n});\n_c45 = SimulationPage;\nconst RenderCaseStudy = ({\n  caseStudy\n}) => {\n  _s2();\n  const [expanded, setExpanded] = useState(false);\n  return /*#__PURE__*/_jsxDEV(CaseStudyContainer, {\n    children: [/*#__PURE__*/_jsxDEV(CaseStudyHeader, {\n      children: [/*#__PURE__*/_jsxDEV(IconCaseStudy, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(CaseStudyLabel, {\n          children: \"Case Study\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), caseStudy.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CaseStudyQuestions, {\n        children: [\"Questions: \", caseStudy.questionsCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CaseStudyToggle, {\n        onClick: () => setExpanded(!expanded),\n        children: [expanded ? 'Hide' : 'Show', \" \", expanded ? /*#__PURE__*/_jsxDEV(IconArrowBack, {\n          style: {\n            transform: 'rotate(90deg)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 52\n        }, this) : /*#__PURE__*/_jsxDEV(IconArrowForward, {\n          style: {\n            transform: 'rotate(90deg)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 111\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CaseStudyContent, {\n      $expanded: expanded,\n      children: /*#__PURE__*/_jsxDEV(HtmlRenderer, {\n        htmlString: caseStudy.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 290,\n    columnNumber: 5\n  }, this);\n};\n_s2(RenderCaseStudy, \"DuL5jiiQQFgbn7gBKAyxwS/H4Ek=\");\n_c46 = RenderCaseStudy;\nconst RenderQuestion = ({\n  question,\n  showAnswer,\n  setShowAnswer\n}) => {\n  const hasExplanation = question.explanation.trim() !== '';\n  const correctLetters = question.answer.join(', ');\n  return /*#__PURE__*/_jsxDEV(QuestionCardContainer, {\n    style: {\n      background: showAnswer ? 'linear-gradient(to bottom, rgba(239,234,254,0.15) 60%, white)' : 'white',\n      borderRadius: 18,\n      boxShadow: '0 5px 15px rgba(103,58,183,0.04)',\n      marginBottom: 24\n    },\n    children: [/*#__PURE__*/_jsxDEV(QuestionHeader, {\n      children: [/*#__PURE__*/_jsxDEV(QuestionNumber, {\n        children: [\"Q: \", question.question_number]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HtmlRenderer, {\n        htmlString: question.question,\n        style: {\n          flex: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Label, {\n      children: \"Options\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OptionsList, {\n      children: question.options.map((opt, index) => {\n        const letter = String.fromCharCode(65 + index);\n        const isCorrect = showAnswer && question.answer.includes(letter);\n        return /*#__PURE__*/_jsxDEV(OptionItem, {\n          $isCorrect: isCorrect,\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: [letter, \".\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 65\n          }, this), \" \", /*#__PURE__*/_jsxDEV(HtmlRenderer, {\n            htmlString: opt.replace(/^[A-Z]\\.\\s*/, '')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 82\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 18\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ActionButtons, {\n      children: [/*#__PURE__*/_jsxDEV(ReportButton, {\n        onClick: () => alert('Report question submitted'),\n        children: [/*#__PURE__*/_jsxDEV(IconFlag, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 74\n        }, this), \" Report Question\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PrimaryButton, {\n        onClick: () => setShowAnswer(!showAnswer),\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [showAnswer ? /*#__PURE__*/_jsxDEV(IconEyeSlash, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 27\n          }, this) : /*#__PURE__*/_jsxDEV(IconEye, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 46\n          }, this), \" \", showAnswer ? 'Hide Answer' : 'Show Answer']\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this), showAnswer && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          borderTop: '1.1px solid #E0E0E0',\n          margin: '32px 0'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CorrectAnswerSection, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(CorrectLabel, {\n            children: \"Correct Answer:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(CorrectText, {\n            children: correctLetters\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 60\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ReportButton, {\n          style: {\n            marginLeft: 'auto'\n          },\n          onClick: () => alert('Report answer submitted'),\n          children: [/*#__PURE__*/_jsxDEV(IconWarning, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 107\n          }, this), \" Report Answer as Incorrect\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this), hasExplanation && /*#__PURE__*/_jsxDEV(ExplanationSection, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Explanation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(HtmlRenderer, {\n          htmlString: question.explanation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'right',\n            marginTop: 10\n          },\n          children: /*#__PURE__*/_jsxDEV(ReportButton, {\n            onClick: () => alert('Report explanation submitted'),\n            children: [/*#__PURE__*/_jsxDEV(IconFlag, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 85\n            }, this), \" Report Explanation\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n};\n_c47 = RenderQuestion;\nexport default SimulationPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28, _c29, _c30, _c31, _c32, _c33, _c34, _c35, _c36, _c37, _c38, _c39, _c40, _c41, _c42, _c43, _c44, _c45, _c46, _c47;\n$RefreshReg$(_c, \"IconSearch\");\n$RefreshReg$(_c2, \"IconDownload\");\n$RefreshReg$(_c3, \"IconEye\");\n$RefreshReg$(_c4, \"IconEyeSlash\");\n$RefreshReg$(_c5, \"IconFlag\");\n$RefreshReg$(_c6, \"IconWarning\");\n$RefreshReg$(_c7, \"IconTopicFolder\");\n$RefreshReg$(_c8, \"IconCaseStudy\");\n$RefreshReg$(_c9, \"IconArrowBack\");\n$RefreshReg$(_c0, \"IconArrowForward\");\n$RefreshReg$(_c1, \"PageContainer\");\n$RefreshReg$(_c10, \"HeaderContainer\");\n$RefreshReg$(_c11, \"FileName\");\n$RefreshReg$(_c12, \"HeaderActions\");\n$RefreshReg$(_c13, \"SearchInput\");\n$RefreshReg$(_c14, \"ViewToggle\");\n$RefreshReg$(_c15, \"Switch\");\n$RefreshReg$(_c16, \"GoToButton\");\n$RefreshReg$(_c17, \"DownloadButton\");\n$RefreshReg$(_c18, \"GoToFieldContainer\");\n$RefreshReg$(_c19, \"GoToInput\");\n$RefreshReg$(_c20, \"GoButton\");\n$RefreshReg$(_c21, \"ContentContainer\");\n$RefreshReg$(_c22, \"TopicHeader\");\n$RefreshReg$(_c23, \"CaseStudyContainer\");\n$RefreshReg$(_c24, \"CaseStudyHeader\");\n$RefreshReg$(_c25, \"CaseStudyLabel\");\n$RefreshReg$(_c26, \"CaseStudyQuestions\");\n$RefreshReg$(_c27, \"CaseStudyToggle\");\n$RefreshReg$(_c28, \"CaseStudyContent\");\n$RefreshReg$(_c29, \"QuestionCardContainer\");\n$RefreshReg$(_c30, \"QuestionHeader\");\n$RefreshReg$(_c31, \"QuestionNumber\");\n$RefreshReg$(_c32, \"Label\");\n$RefreshReg$(_c33, \"OptionsList\");\n$RefreshReg$(_c34, \"OptionItem\");\n$RefreshReg$(_c35, \"ActionButtons\");\n$RefreshReg$(_c36, \"PrimaryButton\");\n$RefreshReg$(_c37, \"ReportButton\");\n$RefreshReg$(_c38, \"CorrectAnswerSection\");\n$RefreshReg$(_c39, \"CorrectLabel\");\n$RefreshReg$(_c40, \"CorrectText\");\n$RefreshReg$(_c41, \"ExplanationSection\");\n$RefreshReg$(_c42, \"PaginationContainer\");\n$RefreshReg$(_c43, \"PageButton\");\n$RefreshReg$(_c44, \"LoadingContainer\");\n$RefreshReg$(_c45, \"SimulationPage\");\n$RefreshReg$(_c46, \"RenderCaseStudy\");\n$RefreshReg$(_c47, \"RenderQuestion\");","map":{"version":3,"names":["React","useState","useEffect","styled","useParams","supabase","HtmlRenderer","jsxDEV","_jsxDEV","Fragment","_Fragment","IconSearch","width","height","viewBox","fill","xmlns","children","d","fileName","_jsxFileName","lineNumber","columnNumber","_c","IconDownload","_c2","IconEye","_c3","IconEyeSlash","_c4","IconFlag","_c5","IconWarning","_c6","IconTopicFolder","_c7","IconCaseStudy","_c8","IconArrowBack","_c9","IconArrowForward","transform","_c0","flattenItems","topics","flatList","Object","entries","forEach","topicKey","topic","topic_name","push","type","content","title","caseStudyCount","case_study","_topic$questions","description","questionsCount","questions","length","q","qIndex","question_number","toString","PageContainer","div","_c1","HeaderContainer","_c10","FileName","h2","_c11","HeaderActions","_c12","SearchInput","_c13","ViewToggle","_c14","Switch","input","attrs","_c15","GoToButton","button","_c16","DownloadButton","_c17","GoToFieldContainer","props","$show","_c18","GoToInput","_c19","GoButton","_c20","ContentContainer","_c21","TopicHeader","_c22","CaseStudyContainer","_c23","CaseStudyHeader","_c24","CaseStudyLabel","p","_c25","CaseStudyQuestions","span","_c26","CaseStudyToggle","_c27","CaseStudyContent","$expanded","_c28","QuestionCardContainer","_c29","QuestionHeader","_c30","QuestionNumber","_c31","Label","_c32","OptionsList","_c33","OptionItem","$isCorrect","_c34","ActionButtons","_c35","PrimaryButton","_c36","ReportButton","_c37","CorrectAnswerSection","_c38","CorrectLabel","_c39","CorrectText","_c40","ExplanationSection","_c41","PaginationContainer","_c42","PageButton","_c43","LoadingContainer","_c44","PaginationText","SimulationPage","_s","_currentItem$parent","_currentItem$parent2","fileId","simulationData","setSimulationData","structuredItems","setStructuredItems","currentIndex","setCurrentIndex","isLoading","setLoading","showAnswer","setShowAnswer","isSingleView","setIsSingleView","searchQuery","setSearchQuery","showGoToField","setShowGoToField","goToInput","setGoToInput","showAnswersMap","setShowAnswersMap","getSimulationData","_data$aiParsedData","_data$aiParsedData$re","data","error","from","select","eq","single","console","result","filename","newStructuredItems","globalQNum","values","parent","undefined","flatItems","handleNext","prev","Math","min","handlePrev","max","currentItem","placeholder","value","onChange","e","target","style","color","checked","onClick","display","window","innerWidth","parseInt","alert","fontSize","RenderCaseStudy","caseStudy","RenderQuestion","question","filter","item","toLowerCase","includes","map","index","newVal","gap","disabled","_c45","_s2","expanded","setExpanded","flex","htmlString","_c46","hasExplanation","explanation","trim","correctLetters","answer","join","background","borderRadius","boxShadow","marginBottom","options","opt","letter","String","fromCharCode","isCorrect","replace","borderTop","margin","marginLeft","textAlign","marginTop","_c47","$RefreshReg$"],"sources":["/Users/megamac/Dev/GitHub/projects/certempire-react/src/pages/SimulationPage.tsx"],"sourcesContent":["  // src/pages/SimulationPage.tsx\n  import React, { useState, useEffect } from 'react';\n  import styled from 'styled-components';\n  import { useParams } from 'react-router-dom';\n  import { supabase } from '../supabaseClient';\n  import HtmlRenderer from '../components/utils/HtmlRenderer'; // 1. Import the new component\n\n\n  // MAKING CHANGES NOW.\n\n\n  // --- SVG Icons ---\n \nconst IconSearch = () => <svg width=\"20\" height=\"20\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159L11.5 12.5L12.5 11.5L10.0158 9.30885C9.42248 9.75587 8.68594 10.0345 7.89932 10.0883L6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5C10 7.50556 9.61334 8.42373 9.00001 9.13098L9.30884 10.0159Z\" fill=\"#757575\" /></svg>;\n\nconst IconDownload = () => <svg width=\"18\" height=\"18\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 6H2V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V6H11V12H4V6ZM7.5 10L11 5H8V2H7V5H4L7.5 10Z\" fill=\"currentColor\" /></svg>;\n\nconst IconEye = () => <svg width=\"16\" height=\"16\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7.5 11C4.79322 11 2.49241 9.2993 1.05532 7.50001C2.49241 5.70072 4.79322 4 7.5 4C10.2068 4 12.5076 5.70072 13.9447 7.50001C12.5076 9.2993 10.2068 11 7.5 11ZM7.5 3C4.33776 3 1.68988 5.00373 0.160645 6.88398L0.116041 6.94165C-0.0386803 7.14378 -0.0386803 7.85624 0.116041 8.05837L0.160645 8.11604C1.68988 9.99629 4.33776 12 7.5 12C10.6622 12 13.3101 9.99629 14.8394 8.11604L14.884 8.05837C15.0387 7.85624 15.0387 7.14378 14.884 6.94165L14.8394 6.88398C13.3101 5.00373 10.6622 3 7.5 3ZM7.5 9C6.40237 9 5.50655 8.11289 5.5 7.00001C5.50655 5.88713 6.40237 5.00001 7.5 5.00001C8.59763 5.00001 9.49345 5.88713 9.5 7.00001C9.49345 8.11289 8.59763 9 7.5 9Z\" fill=\"currentColor\" /></svg>;\n\nconst IconEyeSlash = () => <svg width=\"16\" height=\"16\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1.3415 13.6585L13.6582 1.34176L12.9511 0.634691L0.634433 12.9514L1.3415 13.6585ZM4.39893 9.60107C3.13626 8.87784 2.15372 7.84628 1.05532 7.5C2.49241 5.70072 4.79322 4 7.5 4C8.61439 4 9.66427 4.29891 10.584 4.80878L9.49989 6.00001C9.49561 5.92548 9.24345 5.88713 9.5 7C9.49345 8.11289 8.59763 9 7.5 9C6.81406 9 6.20237 8.68594 5.86902 8.13098L4.39893 9.60107ZM14.8394 6.88398C13.5936 5.25338 11.6622 3 7.5 3C6.59763 3 5.75655 3.20237 5.00001 3.55837L6.50001 5C6.40237 5 5.50655 5.88713 5.5 7C5.50655 7.24345 5.57452 7.46548 5.68988 7.68988L7.584 9.584C8.75655 9.42548 9.49345 8.49345 9.5 7.41594L13.8839 12.8394C14.4934 12.1129 14.8394 11.2434 14.8394 10.5C14.8394 9.99629 13.3101 8.11604 14.884 8.05837C15.0387 7.85624 15.0387 7.14378 14.884 6.94165L14.8394 6.88398Z\" fill=\"currentColor\" /></svg>;\n\nconst IconFlag = () => <svg width=\"16\" height=\"16\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4.5 14.5V4.5H12.5L9.5 7L12.5 9.5H4.5ZM3 3.5H14V10.5L10 7.5L14 4.5H4V14.5H3V3.5Z\" fill=\"currentColor\" /></svg>;\n\nconst IconWarning = () => <svg width=\"16\" height=\"16\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7.5 1L1 13H14L7.5 1ZM7.5 3.23607L12.7082 12H2.2918L7.5 3.23607ZM8 11H7V10H8V11ZM8 9H7V6H8V9Z\" fill=\"currentColor\" /></svg>;\n\nconst IconTopicFolder = () => <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3 5C3 4.44772 3.44772 4 4 4H9.17157C9.58052 4 9.91096 4.24065 10.0607 4.58579L10.5858 5.75736C10.7355 6.1025 11.0659 6.34315 11.4749 6.34315H20C20.5523 6.34315 21 6.79086 21 7.34315V18C21 18.5523 20.5523 19 20 19H4C3.44772 19 3 18.5523 3 18V5Z\" fill=\"#000000\" fill-opacity=\"0.7\" /></svg>;\n\nconst IconCaseStudy = () => <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 4H20V20H4V4ZM3 3V21H21V3H3ZM6 6H18V8H6V6ZM6 10H18V12H6V10ZM6 14H14V16H6V14Z\" fill=\"#673AB7\" /></svg>;\n\nconst IconArrowBack = () => <svg width=\"20\" height=\"20\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.85355 3.14645C7.04882 3.34171 7.04882 3.65829 6.85355 3.85355L3.70711 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H3.70711L6.85355 11.1464C7.04882 11.3417 7.04882 11.6583 6.85355 11.8536C6.65829 12.0488 6.34171 12.0488 6.14645 11.8536L1.64645 7.35355C1.45118 7.15829 1.45118 6.84171 1.64645 6.64645L6.14645 2.14645C6.34171 1.95118 6.65829 1.95118 6.85355 2.14645Z\" fill=\"currentColor\" /></svg>;\n\nconst IconArrowForward = () => <svg width=\"20\" height=\"20\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.14645 3.14645C8.34171 3.34171 8.34171 3.65829 8.14645 3.85355L4.99999 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H5L8.14645 11.1464C8.34171 11.3417 8.34171 11.6583 8.14645 11.8536C7.95118 12.0488 7.6346 12.0488 7.43934 11.8536L2.93934 7.35355C2.74408 7.15829 2.74408 6.84171 2.93934 6.64645L7.43934 2.14645C7.6346 1.95118 7.95118 1.95118 8.14645 2.14645Z\" fill=\"currentColor\" transform=\"scale(-1,1) translate(-15,0)\" /></svg>;\n\n\n  // --- Type Definitions ---\n  type Question = { answer: string[]; options: string[]; question: string; explanation: string; question_number: string; };\n  type Topic = { questions: Question[]; case_study?: string; topic_name?: string; };\n  type SimulationData = { fileName: string; topics: Record<string, Topic>; };\n  type SupabaseFile = { 'ai-parsed-data': { result: { topics: Record<string, Topic>; }; }; filename: string; };\n  type StructuredItem = { type: 'question'; content: Question; parent?: { topic?: string; case_study?: string } };\n\n  // --- Helper function ---\n\n  /*\n\n  const getAllQuestions = (topics: Record<string, Topic>): Question[] => {\n    if (!topics) return [];\n    let questions: Question[] = [];\n    Object.values(topics).forEach((topic: Topic) => {\n      if (topic.questions && Array.isArray(topic.questions)) {\n        questions.push(...topic.questions);\n      }\n    });\n    return questions.map((q, index) => ({ ...q, question_number: (index + 1).toString() }));\n  };\n\n  */\n\n  const flattenItems = (topics) => {\n  const flatList = [];\n  Object.entries(topics).forEach(([topicKey, topic]) => {\n    if (topic.topic_name) {\n      flatList.push({ type: 'topic', content: { title: topic.topic_name, caseStudyCount: topic.case_study ? 1 : 0 } });\n    }\n    if (topic.case_study) {\n      flatList.push({ type: 'case_study', content: { title: topicKey, description: topic.case_study, questionsCount: topic.questions?.length || 0 } });\n    }\n    (topic.questions || []).forEach((q, qIndex) => {\n      flatList.push({ type: 'question', content: { ...q, question_number: q.question_number || (qIndex + 1).toString() } });\n    });\n  });\n  return flatList;\n};\n\n  // --- Styled Components (Full Definitions) ---\nconst PageContainer = styled.div` display: flex; flex-direction: column; gap: 16px; `;\nconst HeaderContainer = styled.div`\n  @media (min-width: 651px) { display: flex; flex-direction: row; align-items: center; justify-content: space-between; gap: 16px; }\n  @media (max-width: 650px) { display: flex; flex-direction: column; gap: 16px; }\n`;\nconst FileName = styled.h2` color: #2c2c54; font-weight: bold; font-size: 22px; `;\nconst HeaderActions = styled.div` display: flex; align-items: center; gap: 12px; `;\nconst SearchInput = styled.div`\n  display: flex; align-items: center; background-color: white; border: 1px solid #E0E0E0; border-radius: 12px; padding: 0 12px; width: 250px;\n  @media (max-width: 650px) { width: 100%; }\n  input { border: none; outline: none; padding: 12px 8px; font-size: 14px; flex-grow: 1; }\n  &:focus-within { border-color: #673AB7; }\n`;\nconst ViewToggle = styled.div`\n  display: flex; align-items: center; gap: 4px; padding: 4px 8px; background-color: white; border: 1px solid #E0E0E0; border-radius: 12px;\n  span { font-weight: bold; color: #757575; }\n  svg { color: #757575; }\n`;\nconst Switch = styled.input.attrs({ type: 'checkbox' })`\n  appearance: none; width: 34px; height: 20px; background: #E0E0E0; border-radius: 10px; position: relative; cursor: pointer;\n  &:checked { background: #673AB7; }\n  &::before { content: ''; position: absolute; top: 2px; left: 2px; width: 16px; height: 16px; background: white; border-radius: 50%; transition: 0.2s; }\n  &:checked::before { left: 16px; }\n`;\nconst GoToButton = styled.button`\n  background: none; border: 1px solid #E0E0E0; padding: 8px 12px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-weight: bold; color: #757575;\n`;\nconst DownloadButton = styled.button`\n  background-color: #673AB7; color: white; border: none; border-radius: 12px; padding: 10px 16px; font-weight: 500; cursor: pointer; display: flex; align-items: center; gap: 8px;\n  @media (max-width: 650px) { padding: 12px; border-radius: 50%; }\n`;\nconst GoToFieldContainer = styled.div`\n  height: ${props => props.$show ? '60px' : '0'}; display: flex; justify-content: center; align-items: center; gap: 8px; overflow: hidden; transition: height 0.3s;\n`;\nconst GoToInput = styled.input` width: 150px; text-align: center; border: 1px solid #E0E0E0; border-radius: 8px; padding: 8px; `;\nconst GoButton = styled.button` background-color: #673AB7; color: white; border: none; padding: 8px 16px; border-radius: 8px; `;\nconst ContentContainer = styled.div` background-color: white; border-radius: 12px; border: 1px solid #E0E0E0; `;\nconst TopicHeader = styled.div` padding: 24px 16px 16px; display: flex; align-items: center; gap: 16px; font-size: 20px; font-weight: bold; color: #424242; span { font-weight: 500; } `;\nconst CaseStudyContainer = styled.div` background-color: rgba(239, 234, 254, 0.4); border-bottom: 1px solid rgba(103, 58, 183, 0.2); padding: 26px; `;\nconst CaseStudyHeader = styled.div` display: flex; align-items: center; gap: 12px; font-size: 18px; font-weight: bold; color: #673AB7; @media (max-width: 500px) { flex-direction: column; align-items: flex-start; } `;\nconst CaseStudyLabel = styled.p` color: #BDBDBD; font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: 0.8px; margin-bottom: 4px; `;\nconst CaseStudyQuestions = styled.span` font-size: 14px; font-weight: 500; color: #757575; `;\nconst CaseStudyToggle = styled.button` background: none; border: none; color: #673AB7; font-weight: bold; display: flex; align-items: center; gap: 4px; cursor: pointer; `;\nconst CaseStudyContent = styled.div` max-height: ${props => props.$expanded ? 'none' : '50px'}; overflow: hidden; transition: max-height 0.3s; `;\nconst QuestionCardContainer = styled.div` padding: 26px; `;\nconst QuestionHeader = styled.div` @media (min-width: 601px) { display: flex; align-items: flex-start; gap: 18px; } @media (max-width: 600px) { display: flex; flex-direction: column; gap: 16px; } `;\nconst QuestionNumber = styled.div` background-color: rgba(103, 58, 183, 0.12); color: #673AB7; font-weight: bold; font-size: 16px; padding: 12px; border-radius: 10px; `;\nconst Label = styled.p` color: #BDBDBD; font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: 0.8px; margin-bottom: 8px; `;\nconst OptionsList = styled.div` display: flex; flex-direction: column; gap: 11px; @media (min-width: 601px) { padding-left: 76px; } @media (max-width: 600px) { padding-left: 0; } `;\nconst OptionItem = styled.div` border: 1px solid ${props => props.$isCorrect ? '#38b000' : '#E0E0E0'}; background: ${props => props.$isCorrect ? '#F4FBF6' : 'transparent'}; border-radius: 8px; padding: 11px 14px; font-size: 15px; line-height: 1.35; transition: all 0.14s; box-shadow: ${props => props.$isCorrect ? '0 2px 6px rgba(56,176,0,0.1)' : 'none'}; `;\nconst ActionButtons = styled.div` display: flex; flex-wrap: wrap; justify-content: flex-end; gap: 8px; margin-top: 26px; `;\nconst PrimaryButton = styled.button` border: none; background-color: #673AB7; color: white; padding: 10px 16px; border-radius: 8px; cursor: pointer; font-weight: 500; `;\nconst ReportButton = styled.button` background: none; border: 1px solid rgba(255,152,0,0.5); color: #FF9800; padding: 10px 12px; border-radius: 8px; font-weight: bold; font-size: 13px; display: flex; align-items: center; gap: 8px; cursor: pointer; `;\nconst CorrectAnswerSection = styled.div` display: flex; align-items: center; gap: 8px; padding: 12px 0; @media (max-width: 600px) { flex-direction: column; align-items: flex-start; gap: 16px; } `;\nconst CorrectLabel = styled.span` color: #757575; font-weight: 600; font-size: 13px; `;\nconst CorrectText = styled.span` font-weight: bold; font-size: 15px; `;\nconst ExplanationSection = styled.div` margin-top: 18px; `;\nconst PaginationContainer = styled.div` display: flex; justify-content: space-between; align-items: center; padding: 16px 24px; background-color: white; border: 1px solid #E0E0E0; border-radius: 12px; `;\nconst PageButton = styled.button` background: none; border: 1px solid #E0E0E0; color: #333; padding: 8px 16px; border-radius: 8px; cursor: pointer; &:disabled { cursor: not-allowed; opacity: 0.5; } `;\nconst LoadingContainer = styled.div` display: flex; justify-content: center; align-items: center; height: 300px; font-size: 18px; color: #757575;`;\nconst PaginationText = styled.span` color: #757575; font-weight: 500; `;\n  // --- The Main Page Component ---\n  const SimulationPage = () => {\n    const { fileId } = useParams<{ fileId: string }>();\n    const [simulationData, setSimulationData] = useState<SimulationData | null>(null);\n    const [structuredItems, setStructuredItems] = useState<StructuredItem[]>([]);\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const [isLoading, setLoading] = useState(true);\n    const [showAnswer, setShowAnswer] = useState(false);\n    const [isSingleView, setIsSingleView] = useState(true); // True for single-question, false for full-content\nconst [searchQuery, setSearchQuery] = useState(''); // For real-time search in full view\nconst [showGoToField, setShowGoToField] = useState(false); // Toggle go-to input\nconst [goToInput, setGoToInput] = useState(''); // Value for go-to field\nconst [showAnswersMap, setShowAnswersMap] = useState<Record<string, boolean>>({}); // Per-question show/hide in full view (key: question_number)\n  // const [showGoTo, setShowGoTo] = useState(false);\n\nuseEffect(() => {\n  setCurrentIndex(0);\n  setShowAnswersMap({});\n  setShowAnswer(false);\n}, [isSingleView]);\n\n\n    useEffect(() => {\n      if (!fileId) return;\n      async function getSimulationData() {\n        setLoading(true);\n        const { data, error } = await supabase.from('files').select('filename, ai-parsed-data').eq('id', fileId).single<SupabaseFile>();\n        if (error) {\n          console.error(\"Error fetching file:\", error);\n        } else if (data && data['ai-parsed-data']?.result?.topics) {\n          const topics = data['ai-parsed-data'].result.topics;\n          setSimulationData({ fileName: data.filename, topics: topics });\n          const newStructuredItems: StructuredItem[] = [];\nlet globalQNum = 1;\nObject.values(topics).forEach((topic: Topic) => {\n            (topic.questions || []).forEach((q: Question) => {\n              newStructuredItems.push({\n                type: 'question',\n                content: { ...q, question_number: q.question_number || (globalQNum++).toString() },\nparent: { topic: topic.topic_name, case_study: topic.case_study ? topic.topic_name : undefined }              });\n            });\n          });\n          setStructuredItems(newStructuredItems);\n\n          const flatItems = flattenItems(simulationData?.topics || {});\n        }\n        setLoading(false);\n      }\n      getSimulationData();\n    }, [fileId]);\n\n    useEffect(() => {\n      setShowAnswer(false);\n    }, [currentIndex]);\n    \n    const handleNext = () => setCurrentIndex(prev => Math.min(prev + 1, structuredItems.length - 1));\n    const handlePrev = () => setCurrentIndex(prev => Math.max(prev - 1, 0));\n\n    const currentItem = structuredItems[currentIndex];\n\n    if (isLoading) return <LoadingContainer>Loading Simulation...</LoadingContainer>;\n    if (!currentItem) return <LoadingContainer>Could not load questions for this file.</LoadingContainer>;\n\n    return (\n        <PageContainer>\n         <HeaderContainer>\n  <FileName title={simulationData?.fileName}>{simulationData?.fileName}</FileName>\n  <SearchInput>\n    <IconSearch />\n    <input placeholder=\"Search in this file...\" value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} />\n  </SearchInput>\n  <HeaderActions>\n    <ViewToggle>\n      <span>View:</span>\n      <IconTopicFolder style={{ color: !isSingleView ? '#673AB7' : '#757575', width: 20, height: 20 }} />\n      <Switch checked={isSingleView} onChange={(e) => setIsSingleView(e.target.checked)} />\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{ color: isSingleView ? '#673AB7' : '#757575' }}><path d=\"M4 6H20V8H4V6ZM4 11H20V13H4V11ZM4 16H20V18H4V16Z\" fill=\"currentColor\" /></svg>\n    </ViewToggle>\n    <GoToButton onClick={() => setShowGoToField(!showGoToField)}>\n      <IconSearch /> Go To\n    </GoToButton>\n    <DownloadButton onClick={() => { /* Put your download code here if you have it */ }}>\n      <IconDownload />\n      <span style={{ display: window.innerWidth > 650 ? 'inline' : 'none' }}>Download</span>\n    </DownloadButton>\n  </HeaderActions>\n</HeaderContainer>\n\n<GoToFieldContainer $show={showGoToField}>\n  <GoToInput type=\"number\" value={goToInput} onChange={(e) => setGoToInput(e.target.value)} placeholder=\"Go to...\" />\n  <GoButton onClick={() => {\n    const target = parseInt(goToInput);\n    if (target >= 1 && target <= structuredItems.length) {\n      setCurrentIndex(target - 1);\n      setIsSingleView(true);\n      setShowGoToField(false);\n      setGoToInput('');\n    } else {\n      alert(`Enter a number between 1 and ${structuredItems.length}`);\n    }\n  }}>Go</GoButton>\n</GoToFieldContainer>\n    \n         <ContentContainer>\n  {isSingleView ? (\n    <>\n      {currentItem.parent?.topic && (\n        <TopicHeader>\n          <IconTopicFolder />\n          <div>\n            <span>Topic: </span>{currentItem.parent.topic}\n            {currentItem.parent.case_study && <div style={{ fontSize: 14, color: '#757575' }}>Case Studies: 1</div>}\n          </div>\n        </TopicHeader>\n      )}\n      {currentItem.parent?.case_study && <RenderCaseStudy caseStudy={{ title: currentItem.parent.topic || 'Case Study', description: currentItem.parent.case_study, questionsCount: 1 }} />}\n      <RenderQuestion question={currentItem.content} showAnswer={showAnswer} setShowAnswer={setShowAnswer} />\n    </>\n  ) : (\n    flattenItems(simulationData?.topics || {})\n      .filter(item => searchQuery === '' || (item.type === 'question' && item.content.question.toLowerCase().includes(searchQuery.toLowerCase())))\n      .map((item, index) => (\n        <div key={index}>\n          {item.type === 'topic' && (\n            <TopicHeader>\n              <IconTopicFolder />\n              <div>\n                <span>Topic: </span>{item.content.title}\n                {item.content.caseStudyCount > 0 && <div style={{ fontSize: 14, color: '#757575' }}>Case Studies: {item.content.caseStudyCount}</div>}\n              </div>\n            </TopicHeader>\n          )}\n          {item.type === 'case_study' && <RenderCaseStudy caseStudy={item.content} />}\n          {item.type === 'question' && <RenderQuestion question={item.content} showAnswer={showAnswersMap[item.content.question_number] || false} setShowAnswer={(newVal) => setShowAnswersMap(prev => ({ ...prev, [item.content.question_number]: newVal }))} />}\n        </div>\n      ))\n  )}\n</ContentContainer>\n          \n          <PaginationContainer>\n            <span>Question {currentItem.content.question_number} of {structuredItems.length}</span>\n            <div style={{ display: 'flex', gap: '8px' }}>\n              <PageButton onClick={handlePrev} disabled={currentIndex === 0}>Back</PageButton>\n              <PageButton onClick={handleNext} disabled={currentIndex === structuredItems.length - 1}>Next</PageButton>\n            </div>\n          </PaginationContainer>\n        </PageContainer>\n      );\n};\n    \nconst RenderCaseStudy = ({ caseStudy }) => {\n  const [expanded, setExpanded] = useState(false);\n  return (\n    <CaseStudyContainer>\n      <CaseStudyHeader>\n        <IconCaseStudy />\n        <div style={{ flex: 1 }}>\n          <CaseStudyLabel>Case Study</CaseStudyLabel>\n          {caseStudy.title}\n        </div>\n        <CaseStudyQuestions>Questions: {caseStudy.questionsCount}</CaseStudyQuestions>\n        <CaseStudyToggle onClick={() => setExpanded(!expanded)}>\n          {expanded ? 'Hide' : 'Show'} {expanded ? <IconArrowBack style={{ transform: 'rotate(90deg)' }} /> : <IconArrowForward style={{ transform: 'rotate(90deg)' }} />}\n        </CaseStudyToggle>\n      </CaseStudyHeader>\n      <CaseStudyContent $expanded={expanded}>\n        <HtmlRenderer htmlString={caseStudy.description} />\n      </CaseStudyContent>\n    </CaseStudyContainer>\n  );\n};\n\nconst RenderQuestion = ({ question, showAnswer, setShowAnswer }) => {\n  const hasExplanation = question.explanation.trim() !== '';\n  const correctLetters = question.answer.join(', ');\n  return (\n    <QuestionCardContainer style={{ background: showAnswer ? 'linear-gradient(to bottom, rgba(239,234,254,0.15) 60%, white)' : 'white', borderRadius: 18, boxShadow: '0 5px 15px rgba(103,58,183,0.04)', marginBottom: 24 }}>\n      <QuestionHeader>\n        <QuestionNumber>Q: {question.question_number}</QuestionNumber>\n        <HtmlRenderer htmlString={question.question} style={{ flex: 1 }} />\n      </QuestionHeader>\n      <Label>Options</Label>\n      <OptionsList>\n        {question.options.map((opt, index) => {\n          const letter = String.fromCharCode(65 + index);\n          const isCorrect = showAnswer && question.answer.includes(letter);\n          return <OptionItem key={index} $isCorrect={isCorrect}><b>{letter}.</b> <HtmlRenderer htmlString={opt.replace(/^[A-Z]\\.\\s*/, '')} /></OptionItem>;\n        })}\n      </OptionsList>\n      <ActionButtons>\n        <ReportButton onClick={() => alert('Report question submitted')}><IconFlag /> Report Question</ReportButton>\n        <PrimaryButton onClick={() => setShowAnswer(!showAnswer)}>\n          <>{showAnswer ? <IconEyeSlash /> : <IconEye />} {showAnswer ? 'Hide Answer' : 'Show Answer'}</>\n        </PrimaryButton>\n      </ActionButtons>\n      {showAnswer && (\n        <>\n          <div style={{ borderTop: '1.1px solid #E0E0E0', margin: '32px 0' }} />\n          <CorrectAnswerSection>\n            <div>\n              <CorrectLabel>Correct Answer:</CorrectLabel> <CorrectText>{correctLetters}</CorrectText>\n            </div>\n            <ReportButton style={{ marginLeft: 'auto' }} onClick={() => alert('Report answer submitted')}><IconWarning /> Report Answer as Incorrect</ReportButton>\n          </CorrectAnswerSection>\n          {hasExplanation && (\n            <ExplanationSection>\n              <Label>Explanation</Label>\n              <HtmlRenderer htmlString={question.explanation} />\n              <div style={{ textAlign: 'right', marginTop: 10 }}>\n                <ReportButton onClick={() => alert('Report explanation submitted')}><IconFlag /> Report Explanation</ReportButton>\n              </div>\n            </ExplanationSection>\n          )}\n        </>\n      )}\n    </QuestionCardContainer>\n  );\n};\n    \n    export default SimulationPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}