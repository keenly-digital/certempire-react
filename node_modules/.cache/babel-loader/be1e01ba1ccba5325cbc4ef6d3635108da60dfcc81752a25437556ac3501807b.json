{"ast":null,"code":"// src/pages/DownloadsPage.tsx\nimport React,{useState,useEffect}from'react';import styled from'styled-components';import{Link}from'react-router-dom';import{useUser}from'../context/UserContext';import{supabase}from'../supabaseClient';// --- Helper for UI ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formatDate=dateString=>{if(!dateString)return'Never';const date=new Date(dateString.replace(' ','T'));if(isNaN(date.getTime()))return'Never';// Added check for invalid date\nreturn date.toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'});};// --- Styled Components for Single Download Card ---\nconst SingleDownloadCard=styled.div`\n  background: ${_ref=>{let{theme}=_ref;return theme.colors.surface;}};\n  border-radius: 18px;\n  padding: 36px 54px;\n  display: flex;\n  align-items: center;\n  box-shadow: 0 4px 32px #00000014;\n  margin: 40px auto 24px auto;\n  justify-content: flex-start;\n  max-width: 800px;\n  min-height: 180px;\n  position: relative;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 24px;\n    text-align: center;\n  }\n`;const ProductImage=styled.img`\n  width: 180px;\n  height: 180px;\n  object-fit: cover;\n  margin-right: 34px;\n  background: #f5f5f5;\n  border-radius: 12px;\n  box-shadow: 0 2px 14px #0000001a;\n  flex-shrink: 0;\n\n  @media (max-width: 768px) {\n    margin-right: 0;\n    margin-bottom: 24px;\n    width: 160px;\n    height: 160px;\n  }\n`;const CardBadge=styled.div`\n  position: absolute;\n  top: ${_ref2=>{let{$isPrimary}=_ref2;return $isPrimary?'8px':'18px';}};\n  left: ${_ref3=>{let{$isPrimary}=_ref3;return $isPrimary?'8px':'auto';}};\n  right: ${_ref4=>{let{$isPrimary}=_ref4;return $isPrimary?'auto':'28px';}};\n  background: ${_ref5=>{let{theme,$isPrimary}=_ref5;return $isPrimary?'#45ccbe':theme.colors.button;}};\n  color: ${_ref6=>{let{theme,$isPrimary}=_ref6;return $isPrimary?'#fff':theme.colors.primary;}};\n  font-weight: 700;\n  font-size: 12px;\n  padding: 3px 9px;\n  border-radius: 7px;\n  z-index: 2;\n  box-shadow: 0 1px 4px #0000001a;\n\n  @media (max-width: 768px) {\n    top: 16px;\n    left: ${_ref7=>{let{$isPrimary}=_ref7;return $isPrimary?'16px':'auto';}};\n    right: ${_ref8=>{let{$isPrimary}=_ref8;return $isPrimary?'auto':'16px';}};\n  }\n`;const InfoContainer=styled.div`\n  flex: 1;\n`;const ProductName=styled.div`\n  font-size: 22px;\n  font-weight: 700;\n  color: ${_ref9=>{let{theme}=_ref9;return theme.colors.primary;}};\n  margin-bottom: 5px;\n\n  @media (max-width: 768px) {\n    font-size: 20px;\n  }\n`;const MetaInfo=styled.div`\n  color: #6b6b8d;\n  font-size: 15px;\n  margin-bottom: 7px;\n  font-weight: 500;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0 18px;\n\n  b {\n    color: ${_ref0=>{let{theme}=_ref0;return theme.colors.textPrimary;}};\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 8px;\n    align-items: center;\n  }\n`;const OrderInfo=styled.div`\n  color: #444;\n  font-size: 13px;\n  margin: 6px 0 0 0;\n`;const ActionButtons=styled.div`\n  margin-top: 19px;\n  display: flex;\n  gap: 14px;\n\n  @media (max-width: 768px) {\n    justify-content: center;\n    flex-direction: column;\n    align-items: stretch;\n  }\n`;const FooterInfo=styled.div`\n  margin-top: 16px;\n  color: #a0a0c0;\n  font-size: 14px;\n`;const HelpLinks=styled.div`\n  margin-top: 22px;\n  text-align: center;\n  color: #6b6b8d;\n  font-size: 15px;\n\n  a {\n    color: ${_ref1=>{let{theme}=_ref1;return theme.colors.primary;}};\n    text-decoration: underline;\n    font-weight: 500;\n  }\n`;// --- Original Table Styles ---\nconst PageHeader=styled.h2`\n  font-size: 24px;\n  font-weight: 600;\n  margin-bottom: 24px;\n`;const DownloadsTable=styled.div`\n  background-color: white;\n  border-radius: 16px;\n  border: 1px solid #EAEAEA;\n  overflow: hidden;\n`;const Row=styled.div`\n  display: grid;\n  grid-template-columns: 3fr 1fr 1fr 2fr;\n  align-items: center;\n  padding: 16px 24px;\n  border-bottom: 1px solid #f0f0f0;\n  &:last-child {\n    border-bottom: none;\n  }\n`;const HeaderRow=styled(Row)`\n  background-color: #fafafa;\n  font-weight: 600;\n  color: #333;\n`;const DataCell=styled.div`\n  color: #555;\n`;const ButtonContainer=styled.div`\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n`;const PrimaryButton=styled.a`\n  display: inline-block;\n  background-color: #2c2c54;\n  color: white;\n  padding: 10px 20px;\n  border-radius: 8px;\n  text-decoration: none;\n  font-weight: 500;\n  font-size: 14px;\n  text-align: center;\n`;const SecondaryButton=styled(Link)`\n  display: inline-block;\n  background-color: ${_ref10=>{let{theme}=_ref10;return theme.colors.primary;}};\n  color: #ffffff;\n  border: 0.5px solid rgb(177, 177, 255);\n  padding: 10px 20px;\n  border-radius: 8px;\n  text-decoration: none;\n  font-weight: 500;\n  font-size: 14px;\n  text-align: center;\n\n  &:hover {\n    background-color: ${_ref11=>{let{theme}=_ref11;return theme.colors.primaryLight;}};\n    color: white;\n`;const MessageContainer=styled.div`\n  padding: 40px;\n  text-align: center;\n  color: #757575;\n  background-color: white;\n  border-radius: 12px;\n  border: 1px solid #EAEAEA;\n`;// --- The Page Component ---\nconst DownloadsPage=()=>{const{user}=useUser();const[downloads,setDownloads]=useState([]);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{if(!user||!user.id){setIsLoading(false);return;}const getPurchasedDownloads=async()=>{setIsLoading(true);try{const payload={method:'GET',endpoint:'cwc/downloads',user_id:user.id};const{data:apiResponse,error}=await supabase.functions.invoke('get-wc-data',{body:payload});if(error)throw error;if(apiResponse&&apiResponse.Success&&Array.isArray(apiResponse.Data)){setDownloads(apiResponse.Data);}else{setDownloads([]);}}catch(error){setDownloads([]);}finally{setIsLoading(false);}};getPurchasedDownloads();},[user]);if(isLoading){return/*#__PURE__*/_jsx(MessageContainer,{children:\"Loading your downloads...\"});}if(!user){return/*#__PURE__*/_jsx(MessageContainer,{children:\"Please log in to view your downloads.\"});}const allDownloads=downloads;if(!downloads.length){return/*#__PURE__*/_jsx(MessageContainer,{style:{border:'none',borderRadius:0},children:\"You have no available downloads.\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PageHeader,{children:\"Downloads\"}),allDownloads.length===1?/*#__PURE__*/_jsxs(SingleDownloadCard,{children:[/*#__PURE__*/_jsx(CardBadge,{$isPrimary:true,children:\"Verified Purchase\"}),/*#__PURE__*/_jsx(CardBadge,{children:\"Premium Product\"}),/*#__PURE__*/_jsx(ProductImage,{src:allDownloads[0].product_image||'https://cdn-icons-png.flaticon.com/512/337/337946.png',alt:allDownloads[0].product_name,onError:e=>{const img=e.target;img.onerror=null;img.src='https://cdn-icons-png.flaticon.com/512/337/337946.png';}}),/*#__PURE__*/_jsxs(InfoContainer,{children:[/*#__PURE__*/_jsx(ProductName,{children:allDownloads[0].product_name}),/*#__PURE__*/_jsxs(MetaInfo,{children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Downloads Left:\"}),\" \",allDownloads[0].downloads_remaining]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Expires:\"}),\" \",formatDate(allDownloads[0].access_expires)]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Format:\"}),\" Digital\"]})]}),/*#__PURE__*/_jsxs(OrderInfo,{children:[\"Order #: \",/*#__PURE__*/_jsx(\"b\",{children:allDownloads[0].order_id})]}),/*#__PURE__*/_jsxs(ActionButtons,{children:[/*#__PURE__*/_jsx(PrimaryButton,{href:allDownloads[0].download_url,target:\"_blank\",children:\"Download\"}),allDownloads[0].supabase_file_id&&/*#__PURE__*/_jsx(SecondaryButton,{to:`/practice/${allDownloads[0].supabase_file_id}`,children:\"Practice\"})]}),/*#__PURE__*/_jsxs(FooterInfo,{children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:8},children:\"Trusted by 20,000+ students worldwide\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:13},children:\"| Secure SSL Download\"})]})]})]}):/*#__PURE__*/_jsxs(DownloadsTable,{children:[/*#__PURE__*/_jsxs(HeaderRow,{children:[/*#__PURE__*/_jsx(DataCell,{children:\"Product\"}),/*#__PURE__*/_jsx(DataCell,{children:\"Downloads Remaining\"}),/*#__PURE__*/_jsx(DataCell,{children:\"Expires\"}),/*#__PURE__*/_jsx(DataCell,{style:{textAlign:'right'},children:\"Actions\"})]}),allDownloads.map(item=>/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(DataCell,{children:item.product_name}),/*#__PURE__*/_jsx(DataCell,{children:item.downloads_remaining}),/*#__PURE__*/_jsx(DataCell,{children:formatDate(item.access_expires)}),/*#__PURE__*/_jsx(DataCell,{children:/*#__PURE__*/_jsxs(ButtonContainer,{children:[/*#__PURE__*/_jsx(PrimaryButton,{href:item.download_url,target:\"_blank\",children:\"Download\"}),item.supabase_file_id&&/*#__PURE__*/_jsx(SecondaryButton,{to:`/practice/${item.supabase_file_id}`,children:\"Practice\"})]})})]},item.download_id))]}),/*#__PURE__*/_jsxs(HelpLinks,{children:[\"Need help?\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"/contact\",children:\"Contact Support\"}),' ',\"|\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"/faq\",children:\"FAQ\"})]})]});};export default DownloadsPage;","map":{"version":3,"names":["React","useState","useEffect","styled","Link","useUser","supabase","jsx","_jsx","jsxs","_jsxs","formatDate","dateString","date","Date","replace","isNaN","getTime","toLocaleDateString","year","month","day","SingleDownloadCard","div","_ref","theme","colors","surface","ProductImage","img","CardBadge","_ref2","$isPrimary","_ref3","_ref4","_ref5","button","_ref6","primary","_ref7","_ref8","InfoContainer","ProductName","_ref9","MetaInfo","_ref0","textPrimary","OrderInfo","ActionButtons","FooterInfo","HelpLinks","_ref1","PageHeader","h2","DownloadsTable","Row","HeaderRow","DataCell","ButtonContainer","PrimaryButton","a","SecondaryButton","_ref10","_ref11","primaryLight","MessageContainer","DownloadsPage","user","downloads","setDownloads","isLoading","setIsLoading","id","getPurchasedDownloads","payload","method","endpoint","user_id","data","apiResponse","error","functions","invoke","body","Success","Array","isArray","Data","children","allDownloads","length","style","border","borderRadius","src","product_image","alt","product_name","onError","e","target","onerror","downloads_remaining","access_expires","order_id","href","download_url","supabase_file_id","to","marginRight","fontSize","textAlign","map","item","download_id"],"sources":["/Users/megamac/Dev/GitHub/projects/certempire-react/src/pages/DownloadsPage.tsx"],"sourcesContent":["// src/pages/DownloadsPage.tsx\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { useUser } from '../context/UserContext';\nimport { supabase } from '../supabaseClient';\n\n// --- Helper for UI ---\nconst formatDate = (dateString: string | null) => {\n  if (!dateString) return 'Never';\n  const date = new Date(dateString.replace(' ', 'T'));\n  if (isNaN(date.getTime())) return 'Never'; // Added check for invalid date\n  return date.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  });\n};\n\n// --- Styled Components for Single Download Card ---\n\nconst SingleDownloadCard = styled.div`\n  background: ${({ theme }) => theme.colors.surface};\n  border-radius: 18px;\n  padding: 36px 54px;\n  display: flex;\n  align-items: center;\n  box-shadow: 0 4px 32px #00000014;\n  margin: 40px auto 24px auto;\n  justify-content: flex-start;\n  max-width: 800px;\n  min-height: 180px;\n  position: relative;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 24px;\n    text-align: center;\n  }\n`;\n\nconst ProductImage = styled.img`\n  width: 180px;\n  height: 180px;\n  object-fit: cover;\n  margin-right: 34px;\n  background: #f5f5f5;\n  border-radius: 12px;\n  box-shadow: 0 2px 14px #0000001a;\n  flex-shrink: 0;\n\n  @media (max-width: 768px) {\n    margin-right: 0;\n    margin-bottom: 24px;\n    width: 160px;\n    height: 160px;\n  }\n`;\n\nconst CardBadge = styled.div<{ $isPrimary?: boolean }>`\n  position: absolute;\n  top: ${({ $isPrimary }) => ($isPrimary ? '8px' : '18px')};\n  left: ${({ $isPrimary }) => ($isPrimary ? '8px' : 'auto')};\n  right: ${({ $isPrimary }) => ($isPrimary ? 'auto' : '28px')};\n  background: ${({ theme, $isPrimary }) => ($isPrimary ? '#45ccbe' : theme.colors.button)};\n  color: ${({ theme, $isPrimary }) => ($isPrimary ? '#fff' : theme.colors.primary)};\n  font-weight: 700;\n  font-size: 12px;\n  padding: 3px 9px;\n  border-radius: 7px;\n  z-index: 2;\n  box-shadow: 0 1px 4px #0000001a;\n\n  @media (max-width: 768px) {\n    top: 16px;\n    left: ${({ $isPrimary }) => ($isPrimary ? '16px' : 'auto')};\n    right: ${({ $isPrimary }) => ($isPrimary ? 'auto' : '16px')};\n  }\n`;\n\nconst InfoContainer = styled.div`\n  flex: 1;\n`;\n\nconst ProductName = styled.div`\n  font-size: 22px;\n  font-weight: 700;\n  color: ${({ theme }) => theme.colors.primary};\n  margin-bottom: 5px;\n\n  @media (max-width: 768px) {\n    font-size: 20px;\n  }\n`;\n\nconst MetaInfo = styled.div`\n  color: #6b6b8d;\n  font-size: 15px;\n  margin-bottom: 7px;\n  font-weight: 500;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0 18px;\n\n  b {\n    color: ${({ theme }) => theme.colors.textPrimary};\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 8px;\n    align-items: center;\n  }\n`;\n\nconst OrderInfo = styled.div`\n  color: #444;\n  font-size: 13px;\n  margin: 6px 0 0 0;\n`;\n\nconst ActionButtons = styled.div`\n  margin-top: 19px;\n  display: flex;\n  gap: 14px;\n\n  @media (max-width: 768px) {\n    justify-content: center;\n    flex-direction: column;\n    align-items: stretch;\n  }\n`;\n\nconst FooterInfo = styled.div`\n  margin-top: 16px;\n  color: #a0a0c0;\n  font-size: 14px;\n`;\n\nconst HelpLinks = styled.div`\n  margin-top: 22px;\n  text-align: center;\n  color: #6b6b8d;\n  font-size: 15px;\n\n  a {\n    color: ${({ theme }) => theme.colors.primary};\n    text-decoration: underline;\n    font-weight: 500;\n  }\n`;\n\n// --- Original Table Styles ---\nconst PageHeader = styled.h2`\n  font-size: 24px;\n  font-weight: 600;\n  margin-bottom: 24px;\n`;\nconst DownloadsTable = styled.div`\n  background-color: white;\n  border-radius: 16px;\n  border: 1px solid #EAEAEA;\n  overflow: hidden;\n`;\nconst Row = styled.div`\n  display: grid;\n  grid-template-columns: 3fr 1fr 1fr 2fr;\n  align-items: center;\n  padding: 16px 24px;\n  border-bottom: 1px solid #f0f0f0;\n  &:last-child {\n    border-bottom: none;\n  }\n`;\nconst HeaderRow = styled(Row)`\n  background-color: #fafafa;\n  font-weight: 600;\n  color: #333;\n`;\nconst DataCell = styled.div`\n  color: #555;\n`;\nconst ButtonContainer = styled.div`\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n`;\nconst PrimaryButton = styled.a`\n  display: inline-block;\n  background-color: #2c2c54;\n  color: white;\n  padding: 10px 20px;\n  border-radius: 8px;\n  text-decoration: none;\n  font-weight: 500;\n  font-size: 14px;\n  text-align: center;\n`;\nconst SecondaryButton = styled(Link)`\n  display: inline-block;\n  background-color: ${({ theme }) => theme.colors.primary};\n  color: #ffffff;\n  border: 0.5px solid rgb(177, 177, 255);\n  padding: 10px 20px;\n  border-radius: 8px;\n  text-decoration: none;\n  font-weight: 500;\n  font-size: 14px;\n  text-align: center;\n\n  &:hover {\n    background-color: ${({ theme }) => theme.colors.primaryLight};\n    color: white;\n`;\nconst MessageContainer = styled.div`\n  padding: 40px;\n  text-align: center;\n  color: #757575;\n  background-color: white;\n  border-radius: 12px;\n  border: 1px solid #EAEAEA;\n`;\n\n// --- The Page Component ---\nconst DownloadsPage = () => {\n  const { user } = useUser();\n  const [downloads, setDownloads] = useState<any[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    if (!user || !user.id) {\n      setIsLoading(false);\n      return;\n    }\n    const getPurchasedDownloads = async () => {\n      setIsLoading(true);\n      try {\n        const payload = {\n          method: 'GET',\n          endpoint: 'cwc/downloads',\n          user_id: user.id\n        };\n\n        const { data: apiResponse, error } = await supabase.functions.invoke('get-wc-data', {\n          body: payload,\n        });\n\n        if (error) throw error;\n\n        if (apiResponse && apiResponse.Success && Array.isArray(apiResponse.Data)) {\n          setDownloads(apiResponse.Data);\n        } else {\n          setDownloads([]);\n        }\n\n      } catch (error) {\n        setDownloads([]);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getPurchasedDownloads();\n  }, [user]);\n\n  if (isLoading) {\n    return <MessageContainer>Loading your downloads...</MessageContainer>;\n  }\n  if (!user) {\n    return <MessageContainer>Please log in to view your downloads.</MessageContainer>;\n  }\n\n  const allDownloads = downloads;\n\n  if (!downloads.length) {\n    return (\n      <MessageContainer style={{ border: 'none', borderRadius: 0 }}>\n        You have no available downloads.\n      </MessageContainer>\n    );\n  }\n\n  return (\n    <div>\n      <PageHeader>Downloads</PageHeader>\n      {allDownloads.length === 1 ? (\n        <SingleDownloadCard>\n          <CardBadge $isPrimary>Verified Purchase</CardBadge>\n          <CardBadge>Premium Product</CardBadge>\n          <ProductImage\n            src={allDownloads[0].product_image || 'https://cdn-icons-png.flaticon.com/512/337/337946.png'}\n            alt={allDownloads[0].product_name}\n            onError={e => {\n              const img = e.target as HTMLImageElement;\n              img.onerror = null;\n              img.src = 'https://cdn-icons-png.flaticon.com/512/337/337946.png';\n            }}\n          />\n          <InfoContainer>\n            <ProductName>{allDownloads[0].product_name}</ProductName>\n            <MetaInfo>\n              <span><b>Downloads Left:</b> {allDownloads[0].downloads_remaining}</span>\n              <span><b>Expires:</b> {formatDate(allDownloads[0].access_expires)}</span>\n              <span><b>Format:</b> Digital</span>\n            </MetaInfo>\n            <OrderInfo>\n              Order #: <b>{allDownloads[0].order_id}</b>\n            </OrderInfo>\n            <ActionButtons>\n              <PrimaryButton href={allDownloads[0].download_url} target=\"_blank\">Download</PrimaryButton>\n              {allDownloads[0].supabase_file_id && (\n                <SecondaryButton to={`/practice/${allDownloads[0].supabase_file_id}`}>Practice</SecondaryButton>\n              )}\n            </ActionButtons>\n            <FooterInfo>\n              <span style={{ marginRight: 8 }}>Trusted by 20,000+ students worldwide</span>\n              <span style={{ fontSize: 13 }}>| Secure SSL Download</span>\n            </FooterInfo>\n          </InfoContainer>\n        </SingleDownloadCard>\n      ) : (\n        <DownloadsTable>\n          <HeaderRow>\n            <DataCell>Product</DataCell>\n            <DataCell>Downloads Remaining</DataCell>\n            <DataCell>Expires</DataCell>\n            <DataCell style={{ textAlign: 'right' }}>Actions</DataCell>\n          </HeaderRow>\n          {allDownloads.map((item: any) => (\n            <Row key={item.download_id}>\n              <DataCell>{item.product_name}</DataCell>\n              <DataCell>{item.downloads_remaining}</DataCell>\n              <DataCell>{formatDate(item.access_expires)}</DataCell>\n              <DataCell>\n                <ButtonContainer>\n                  <PrimaryButton href={item.download_url} target=\"_blank\">Download</PrimaryButton>\n                  {item.supabase_file_id && (\n                    <SecondaryButton to={`/practice/${item.supabase_file_id}`}>Practice</SecondaryButton>\n                  )}\n                </ButtonContainer>\n              </DataCell>\n            </Row>\n          ))}\n        </DownloadsTable>\n      )}\n      <HelpLinks>\n        Need help?{' '}\n        <a href=\"/contact\">Contact Support</a>\n        {' '}|{' '}\n        <a href=\"/faq\">FAQ</a>\n      </HelpLinks>\n    </div>\n  );\n};\n\nexport default DownloadsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}